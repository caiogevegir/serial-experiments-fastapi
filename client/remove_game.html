<html>
  <head>
    <title>Remove Game</title>
  </head>

  <script>
    async function removeGame() {
      const id = document.getElementById('game-id-input').value;
      const url = `http://127.0.0.1:8000/games/remove?id=${id}`;
      const response = await fetch(url, { method: 'DELETE' });
      const data = await response.json();

      const txt = data.id ? 'Game removed successfully' : 'Failed to remove game';
      document.getElementById('remove-status').innerText = txt;

      document.getElementById('confirm-removal-dialog').close()
    }
  </script>

  <body>
    <dialog id="confirm-removal-dialog">
      <p>Are you sure? This is irreversible!</p>
      <button id="confirm-removal-button" onclick="removeGame()">Yes</button>
      <button id="cancel-removal-button" onclick="document.getElementById('confirm-removal-dialog').close()">No</button>
    </dialog>

    <h1>Remove Game</h1>

    <input id="game-id-input" placeholder="Game ID"/>
    <button onclick="document.getElementById('confirm-removal-dialog').showModal()">Remove</button>
    <p id="remove-status"></p><br/>

    <a href="index.html">Go Back</a>
  </body>
</html>